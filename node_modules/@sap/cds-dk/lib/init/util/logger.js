/* eslint no-console: 0 */

const term = require('../../util/term');
const cds = require('@sap/cds/lib');
const LOG = cds.log ? cds.log('init') : console;

const defaultLogger = {
    isDebug: LOG._debug,

    debug: (message = '') => {
        LOG.debug(message);
    },

    log: (message = '') => {
        if (typeof LOG.level !== 'number' || LOG.level > 0) {
            console.log(message);
        }
    },

    warn: (message = '') => {
        LOG.warn(term.warn(message));
    },

    error: (message = '') => {
        LOG.error(term.error(message));
    }
}

defaultLogger.isTTY = process.stdout.isTTY;

const nullLogger = {
    debug: () => { },
    log: () => { },
    warn: () => { },
    error: () => { },
    write: () => { }
}

module.exports = {
    defaultLogger,
    nullLogger
}
