const IP_ADDR = /^[1-9][0-9]{0,2}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$/;
const schemaRegex = /^https?:\/\//;
const defaultSchema = 'https://';

function extractSubdomain(url) {
    const hostname = new URL(url).hostname;
    if (hostname === 'localhost' || IP_ADDR.test(hostname)) {
        return undefined;
    }
    return hostname.split('.')[0];
}

module.exports = {
    schemaRegex,
    defaultSchema,
    extractSubdomain
};
