const edm2csn = require('.');
let context={};
context.oDataInfo = {};
context.namespaces = [];
/**
* This is the import API function to generate CSN from XML/EDMX files.
* @param {string} filepath
* - a single valid filepath
* @param {{} | {keepNamespace:_keepNamespace, ...}} options
* - an options object specifying the keepNamespace option on how CSN is to be generated
* - optional parameter
* - other import options not supported
* @returns {object} CSN
*/
module.exports = async function cds_import(filepath, options = {keepNamespace : false}) //namespace will be taken as false in case it is not mentioned
{
        filepath = await edm2csn.isValidInputFile(filepath);
        let edmx= await edm2csn.getMetadataFromFile(filepath);
        let csn = await edm2csn.edmx2csn(edmx, !options.keepNamespace && filepath, context);
        return csn;
}