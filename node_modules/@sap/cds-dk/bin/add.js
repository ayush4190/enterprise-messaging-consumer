
module.exports = Object.assign(add, {
  options: ['--for', '--out'],
  shortcuts: ['-4', '-o'],
  flags: ['--force', '--verbose'],
  help: `
# SYNOPSIS

    *cds add* <feature | comma-separated list of features>

    Adds one or more features to an existing project in the current working
    folder - Grow-as-you-go scenario.

    The following <features> are supported so far:

    *hana*        - adds configuration for SAP HANA deployment

    *mta*         - adds an _mta.yaml_ file for MTA based SAP Business Technology Platform deployment

    *cf-manifest* - adds _manifest.yml_ and _services-manifest.yml_ files for Cloud Foundry native deployment

                  This approach makes use of the 'Create-Service-Push Plugin' that has to be installed
                  separately using _cf install-plugin Create-Service-Push_.
                  _cf create-service-push_ creates the service(s) and pushes the application(s) to the
                  SAP Business Technology Platform.

    *pipeline*    - adds files for CI/CD pipeline integration

    *samples*     - adds simple sample files

    *notebook*    - adds a Jupyter Notebook (beta)

    *data*        - adds data content for CSN model entities (as csv files)

# OPTIONS

    *-4* | *--for* <entity name or prefix>

      Filters entity names with the given string.  If it contains meta characters like
      '^' or '*', it is treated like a regular expression, otherwise as a prefix.

    *-o* | *--out* <target folder>

      Specifies output target folder (applicable for data feature only)


    *--force*

      Overwrite all files in case the target files already exist.

# EXAMPLES

    *cds add* hana,mta,pipeline
    *cds add* mta
    *cds add* cf-manifest
    *cds add* data --for my.namspace.MyEntity

# SEE ALSO

  *cds init*

`});

async function add(args, options = {}) {
  const CDSGenerator = require('../lib/init');
  const generator = new CDSGenerator();
  await generator.addCmd(args[0], options);
}
