/**
 * @typedef { import("eslint").Rule.RuleContext.options } ContextOptions
 */

module.exports = {
  /**
   * Checks whether the rule name is valid (i.e. is contained within
   * the plugin's or user's *custom* rules).
   * @param context
   * @param pluginRules
   * @param customRules
   * @returns
   */
  isValidRule: function (context, rules) {
    if (rules.includes(context.id.replace("@sap/cds/", ""))) {
      return true;
    }
    return false;
  },

  /**
   * Checks whether a cds model is error-free
   * @param context cds context object
   * @returns
   */
  isValidModel: function (context) {
    const cds = context.cds;
    if (cds) {
      if (cds.model) {
        return !cds.model.err;
      }
      return true;  // allow no model
    }
    return false;
  }
};
